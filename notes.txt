Specifications:
https://cyber.harvard.edu/rss/rss.html
https://www.rssboard.org/rss-specification


How to check if feed has changed:
https://stackoverflow.com/questions/1326398/detecting-new-new-items-in-a-rss-feed


TODO:

*Add ability to check if add .rss to end of url works in url is invalid

*Don't allow similar duplicates ie https://www.reddit.com/r/cats/.rss vs https://www.reddit.com/r/cats.rss

*strip white space off of urls

*Set timeout for requesting feed url if it takes too long

*capatalization in url. Same url but it is seen as a different one

*currently only inserting posts if there is no identifier conflict between every posts
	maybe change this to only if there is an identifier conflict with posts from same feed

*subscribe to 2 of the same feeds but with case differenses in url:
	before: Second feed posts weren't populating due to conflicts
	make sure conflicts don't happen between different feeds


*JSON version of reddit feeds might have upvotes
	ex. http://www.reddit.com/r/inthemorning/.json

*cors

*make sure no route handlers can crash server

*infinite scrolling will fetch feeds twice initially for some reason. Might be due the last feed being visible and a race condition with the loading flag

*If it takes 12 minutes to update all feeds and feeds update every 10 minutes that will be an issue

*Delete posts after a certain date so the database doesn't grow too large

* When adding favorites to posts make sure not to delete posts that are favorited

* react query


*Ordering of feeds and folders aren't preserved when fetching from db

*Feeds aren't being deleted when unsubscribing
		^
		| Probably related
		\/
* Received error:
	TypeError: Cannot read properties of undefined (reading 'feedid')
    at Object.getFeedId (/home/ariab/RSSReader/server/db/queries/feedQueries.js:11:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async getFeed (/home/ariab/RSSReader/server/controllers/feedController.js:12:24)

	Maybe make sure that when getting feedId, if subscriptionid doesn't exists handle that somehow
	
* change sidebar color to chatgpt sidebar color


* posts aren't updated when unsubscribing froma feed

*Adding new feed will always request feed and parse xml
	No need to do this. First check if feed already exists before doing this
	
*When A feed can't be added because it alreaady exists in that folder, don't remove the inputs

* When destructuring or exporting, if there are a lot of variables, move them to sepearte lines

*Renaming feed doesn't change the names of the post sources
	(Same feeds in different folders could possibly have different names)
	
*Worker thread when does it get removed

No need to pass down some props to SidebarButton if passing down the subscription object

Unsubscribing from feeds in a folder sometimes causes the order of the folders to change
	usually when there is only 1 feed left in the folder
	
* Add loading icon when adding feed

*If all feeds is already selected when deleting a feed, that feed will still show up in the Content
	If any feed/folder is selected, it won't be updated when deleting feeds since the state for selection isn't changing
	
* Handle cases where posts or feeds don't contain information in their xml. Such as missing titles, dates etc.

*Do atom feeds use the rss attribute in ompl files

* Add limits to the multer middleware to prevent too large of files being submitted

* Save session to db maybe?

* When importing from ompl, maybe create  new thread for getting posts from all the new feeds

* When importing from opml I think some feeds are taking really long because the url is invalid and they might be timing out

* Duplicate subscriptions in ompl folder are being added

* Currently if a subscription is added where the posts in that feed aren't able to be read. The subscription will still be added just without any posts (Do something about this)

* Add logging for when post data for a feed isn't able to be read.
	Log that feed so it can be tested later
	ex: https://www.wired.com/feed --posts unable to be read
	
* Should I connect to the db in server.js

* Possibly change the name feed to posts ie getFeed should become getPosts

* when clicking on feed, should pass feedid instead of subscriptionid since we are storing that in the selected object

* Create session secrets

* Feeds being requested too quickly results in 429 error
	-This could be an issue if different users all add the same feed in quick succession
	
* Using database transactions could allow me to run multiple test suites in parallel even if they use the same database

* remove allFeeds query param from frontend since it is no longer needed

* Uploading ompl currently uses real rss feeds. Probably make it use the test feeds

* Add border-radius to images

* When worker has an error, it looks like it never exits and prevents future jobs from running

	Worker for job "updatePosts" had an error {
	  err: Error: Unclosed root tag
	  Line: 2097
	  Column: 14
	  Char: 
		  at error (/home/ariab/RSSReader/server/node_modules/sax/lib/sax.js:651:10)
		  at strictFail (/home/ariab/RSSReader/server/node_modules/sax/lib/sax.js:677:7)
		  at end (/home/ariab/RSSReader/server/node_modules/sax/lib/sax.js:658:47)
		  at SAXParser.write (/home/ariab/RSSReader/server/node_modules/sax/lib/sax.js:975:14)
		  at SAXParser.close (/home/ariab/RSSReader/server/node_modules/sax/lib/sax.js:157:38)
		  at exports.Parser.Parser.parseString (/home/ariab/RSSReader/server/node_modules/rss-parser/node_modules/xml2js/lib/parser.js:327:42)
		  at Parser.parseString (/home/ariab/RSSReader/server/node_modules/rss-parser/node_modules/xml2js/lib/parser.js:5:59)
		  at /home/ariab/RSSReader/server/node_modules/rss-parser/lib/parser.js:33:22
		  at new Promise (<anonymous>)
		  at Parser.parseString (/home/ariab/RSSReader/server/node_modules/rss-parser/lib/parser.js:32:16)
	}
	Error: Job "updatePosts" is already running
		at Bree.run (/home/ariab/RSSReader/server/node_modules/bree/src/index.js:366:11)
		at /home/ariab/RSSReader/server/node_modules/bree/src/index.js:635:40
		at Timeout.scheduleTimeout [as _onTimeout] (/home/ariab/RSSReader/server/node_modules/@breejs/later/lib/index.js:1038:7)
		at listOnTimeout (node:internal/timers:569:17)
		at process.processTimers (node:internal/timers:512:7) undefined

* Add border radius for icons

* Comment from hacker news:
	I really like miniflux, but I really wish it had a weighted post ordering rather than a simple chronological ordering. I posted a feature request about this earlier this year[0], but the gist is this:
	If you subscribe to some feeds that post 100+ times a day (like a major news outlet) and others that post only once every couple months or so (like many personal blogs), you'll never catch the latter because those posts are always drowned in a sea of the former. Reddit deals with this problem by weighting posts from each subreddit you subscribe to so that your frontpage contains content from as many of your subs as possible.

	All I want for Christmas is for this idea to get some traction. Hoping to make the time to hack on this myself Q1 of next year.

	[0]: https://github.com/miniflux/v2/issues/1493

* Show the feed url for subscriptions
